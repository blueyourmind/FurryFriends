<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="styles.css">
  <title>Pet Profile</title>
</head>
<body>
  <h1><%= @pet.name %></h1>
  <div class="user-profile-card">
    <div class="user-profile-photo">
      <% if @user.present? && @user.profile_photo.attached? %>
        <%= cl_image_tag @user.profile_photo.key, class: "profile-photo" %>
      <% else %>
       
        <div class="default-profile-photo">No Profile Photo Available</div>
      <% end %>
    </div>
  </div>

  <div class="user-profile-details">
    <% if @user.present? %>
      <h1><%= @user.first_name %> <%= @user.last_name %>'s Profile</h1>
      <p>Added by: <%= link_to "#{@user.first_name} #{@user.last_name}", user_path(@user) %></p>
      <p>Email: <%= mail_to @user.email %></p>
    <% else %>
      <p>Available for adoption</p>
    <% end %>
  </div>

  <% if @pet.photo.attached? %>
    <%= cl_image_tag @pet.photo.key, height: 270 %>
  <% else %>

    <div class="placeholder-image">No Pet Photo Available</div>
  <% end %>

  <p>story: <%= @pet.story %></p>
  <p>Species: <%= @pet.species %></p>
  <p>Breed: <%= @pet.breed %></p>
  <p>Age: <%= @pet.age %> years</p>
  <p>Found on: <%= @pet.found_when.strftime('%B %d, %Y') %></p>
  <p>Status: <%= @pet.status %></p>

  <% if user_signed_in? %>
    <%= link_to 'Adopt me', adopt_pet_path(@pet), method: :post, class: 'btn btn-primary' if @pet.status == 'available' %>
  <% end %>
</body>
</html>
